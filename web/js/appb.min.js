window.onbeforeunload=function(){Pace.start()};Pace.restart();$(window).load(function(){Pace.stop()});$(document).ajaxStart(function(){Pace.restart()});$(document).ready(function(){$("#enviarNotificacao").on("click",function(){$(this).button("loading")});$(".sidebar-toggle").on("click",function(a){a.preventDefault();if(Boolean(sessionStorage.getItem("sidebar-toggle-collapsed"))){sessionStorage.setItem("sidebar-toggle-collapsed","");$(this).find("i").removeClass("fa fa-indent").addClass("fa fa-dedent")}else{sessionStorage.setItem("sidebar-toggle-collapsed","1");$(this).find("i").removeClass("fa fa-dedent").addClass("fa fa-indent")}});$(".content-wrapper").on("click",function(){if($("aside").hasClass("control-sidebar-open")){$("aside").removeClass("control-sidebar-open")}});if($("body").hasClass("sidebar-collapse")){$(".sidebar-toggle").html("<i class='fa fa-indent' style='font-size: 20px;'></i>")}else{$(".sidebar-toggle").html("<i class='fa fa-dedent' style='font-size: 20px;'></i>")}$('[data-toggle="tooltip"]').tooltip();$('[data-toggle="popover"]').popover();$(".somente-numero").mask("0000000000000");$(".somente-numero-5").mask("000000");$("#projeto-protocolo").mask("9999/9999");$(".nota").mask("90.00",{reverse:true});$(".cpf-mask").mask("000.000.000-00",{reverse:true});$('[autocomplete="off"]').each(function(b,c){var a=$(this).attr("readonly");if(typeof a!=="undefined"){if(a){$(this).attr("default-readonly","")}else{$(this).prop("readonly",true)}}else{$(this).prop("readonly",true)}});setTimeout(function(){$('[autocomplete="off"]').each(function(c,d){var b=$(this).attr("readonly");var a=$(this).attr("default-readonly");if(typeof b!=="undefined"){if(typeof a==="undefined"){$(this).prop("readonly",false)}}})},300);$(document).on("icheck",function(){$('input[type=checkbox]:not(".not-icheck input[type=checkbox]"), input[type=radio]').iCheck({checkboxClass:"icheckbox_flat-red",radioClass:"iradio_flat-red"});$(".select-on-check-all").on("ifChecked",function(a){$(".simple").iCheck("check")});$(".select-on-check-all").on("ifUnchecked",function(a){$(".simple").iCheck("uncheck")});$(".select-on-check-all").on("ifChanged",function(a){if(!this.changed){this.changed=true;$(".select-on-check-all").iCheck("check")}else{this.changed=false;$(".select-on-check-all").iCheck("uncheck")}$(".select-on-check-all").iCheck("update")})}).trigger("icheck");$(document).on("pjax:end",function(a){$(document).trigger("icheck");$(".pesquisar").val("")});$("#btnFullscreen").on("click",function(a){a.preventDefault();toggleFullscreen()});$(window).bind("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(c){var b=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;var a=b?"FullscreenOn":"FullscreenOff";if(a=="FullscreenOn"){$("#btnFullscreen").html("<i class='glyphicon glyphicon-resize-small'></i>")}else{$("#btnFullscreen").html("<i class='glyphicon glyphicon-fullscreen'></i>")}});$(".isDisabled").on("click",function(a){if($(this).is("[disabled]")){a.preventDefault();bootbox.alert({title:"Permissão negada?",message:"<span class='text-center'>Você não tem permissão para executar está acão.<br>Entre em contato com seu administrado!<span></span>",size:"small",buttons:{ok:{className:"btn-warning",}}});return false}});$(".designado-conf").on("click",function(f){if(!$(this).is("[disabled]")){f.preventDefault();var b=$('meta[name="csrf-token"]').attr("content");var c=$(this).attr("href");var d=$(this).attr("data-tema");var g=$(this).attr("data-id");var a=$(this).attr("data-acao");if(a=="aceitar"){bootbox.dialog({animate:true,closeButton:true,title:"Aceitar Projeto?",message:"Tem certeza que deseja aceitar o projeto com o tema:<br><br><p class='text-center'><strong>"+d+"</strong></p>",buttons:{cancel:{label:'<i class="fa fa-ban"></i> Cancelar',},confirm:{className:"btn-warning",label:'<i class="fa fa-check"></i> Aceitar',callback:function(){$.ajax({type:"POST",url:c,data:{_csrf:yii.getCsrfToken(),id:g,acao:a},dataType:"json",success:function(e){location.href="/projeto/projeto-designado"}})}}}})}else{bootbox.dialog({animate:true,closeButton:true,title:"Recusar Projeto?",message:"Tem certeza que deseja recusar o projeto com o tema:<p class='text-center'><strong>"+d+"</strong></p>",buttons:{cancel:{label:'<i class="fa fa-ban"></i> Cancelar',},confirm:{className:"btn-warning",label:'<i class="fa fa-check"></i> Recusar',callback:function(){$.ajax({type:"POST",url:c,data:{_csrf:yii.getCsrfToken(),id:g,acao:a},dataType:"json",success:function(e){location.href="/projeto/projeto-designado"}})}}}})}return false}return false});$(".delete-conf").on("click",function(c){if(!$(this).is("[disabled]")){c.preventDefault();var a=$('meta[name="csrf-token"]').attr("content");var b=$(this).attr("href");var d=$(this).attr("data-id");bootbox.dialog({animate:true,closeButton:true,title:"Deletar?",message:"Tem certeza que deseja deletar os registros selecionados?",buttons:{cancel:{label:'<i class="fa fa-ban"></i> Cancelar',},confirm:{className:"btn-warning",label:'<i class="fa fa-check"></i> Deletar',callback:function(){$.ajax({type:"POST",url:b,data:{_csrf:yii.getCsrfToken()},dataType:"json",success:function(){location.href=window.location.href}})}}}});return false}return false});$("#gridDataMatricula").on("click",".ajaxDelete",function(d){if(!$(this).is("[disabled]")){d.preventDefault();var c=$(this).attr("delete-url");var a=$(this).attr("delete-msg-reg");var b=$(this).attr("pjax-container");bootbox.dialog({animate:true,closeButton:true,title:"Deletar?",message:"Tem certeza que deseja deletar este registro?<br>"+a,buttons:{cancel:{label:'<i class="fa fa-ban"></i> Cancelar',},confirm:{className:"btn-warning",label:'<i class="fa fa-check"></i> Deletar',callback:function(){$.ajax({url:c,type:"post",error:function(g,e,f){alert("Houve um erro nesta solicitação."+g.responseText)}}).done(function(e){$.pjax.reload({container:"#"+$.trim(b),async:false})})}}}});return false}return false});$(document).on("click","#deleteSelected",function(){var b="";$(".simple").each(function(c){if($(this).prop("checked")){b+=$(this).val()+","}});if(b==""){bootbox.dialog({animate:true,closeButton:true,title:"Ops...",message:"Nenhum registro selecionado!",buttons:{confirm:{className:"btn-warning",label:'<i class="fa fa-check"></i> Ok'}},})}else{var a=$('meta[name="csrf-token"]').attr("content");bootbox.dialog({animate:true,closeButton:true,title:"Deletar?",message:"Tem certeza que deseja deletar os registros selecionados?",buttons:{cancel:{label:'<i class="fa fa-ban"></i> Cancelar'},confirm:{className:"btn-warning",label:'<i class="fa fa-check"></i> Deletar',callback:function(){var d=window.location.href;var c=d.replace("/index","");$.ajax({type:"POST",url:c+"/delete?id=",data:{pk:b,_csrf:yii.getCsrfToken()},success:function(){location.href=c}})}}},})}});$(document).on("click","#cancelar",function(){var a=$(this).attr("back-url");bootbox.dialog({closeButton:false,title:"Cancelar",message:"Tem certeza que deseja descatar a edição do Registro",onEscape:function(){return false},buttons:{cancel:{label:'<i class="fa fa-ban"></i> Descartar',callback:function(){if(a!=""){window.location=a}else{window.location="index"}}},confirm:{className:"btn-warning",label:'<i class="fa fa-check"></i> Continuar Editando'}},})})});function toggleFullscreen(a){a=a||document.documentElement;if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){if(a.requestFullscreen){a.requestFullscreen()}else{if(a.msRequestFullscreen){a.msRequestFullscreen()}else{if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}}}}else{if(document.exitFullscreen){document.exitFullscreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}}};